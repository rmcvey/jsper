<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<script type="text/javascript" src="http://github.com/rmcvey/jsper/raw/master/jsper.js"></script>
	<title>rmcvey/jsper @ GitHub</title>

	<style type="text/css">
		body {
  		margin-top: 1.0em;
		background:url("http://dev.bitconsultants.net/aurora2.jpg") repeat fixed 0 0 transparent;
		font-family: "Arial,FreeSans";
  		color: #000000;
    }
    #container {
      -moz-border-radius: 10px 10px 10px 10px;
	  -webkit-border-radius:10px;
		background-color: #FFFFFF;
		border: 1px solid #000000;
		margin: 0 auto;
		opacity: 0.85;
		padding: 20px;
		width: 700px;
		-moz-box-shadow: 6px 5px 5px black;
    }
		h1 { font-size: 3.8em; color: #15558b; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #15558b; }
		h1,h2,h3{font-family:Tahoma;font-weight:100;}
		h2,h3{border-bottom:1px solid #15558b;}
		p,li{font-family:arial;font-size:12px;}
    h3 { text-align:left; color: #15558b; }
    a { color: #15558b; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	.warn{color:#fc9e1a;border:1px solid #fc9e1a; background-color:#000;padding:4px;}
	.warn .head{color:#727fac !important;}
	</style>

</head>

<body>
  <a href="http://github.com/rmcvey/jsper"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/rmcvey/jsper/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/rmcvey/jsper/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/rmcvey/jsper">jsper</a>
      <span class="small">by <a href="http://github.com/rmcvey">rob.mcvey</a></span></h1>

    <div class="description">
      Wrapper around HTML 5 localStorage that degrades nicely all the way back to IE6
    </div>
    <div id="google_translate_element"><h3>Translate this page</h3>
	</div><script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    gaTrack: true,
    gaId: 'UA-1505708-8',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
  }, 'google_translate_element');
}
</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
	<h2>About</h2>
	<p>jsper is a native implementation of HTML5 storage (localStorage and sessionStorage) that degrades quite gracefully all the way back to IE6 by using cookies. This is not a milestone, others have done this. What I've done differently is:
<ul>
<li> created a better api to access localStorage using simple get, set methods</li>
<li> provide automatic serialization/deserialization of storage items, i.e. what you put in is what you get back</li>
<li> provide iterators</li>
<li> all non-getter methods are chainable, and most methods are overloaded and accept callbacks</li>
<li> i allow you to manually switch storage engines (if supported by the browser) and retrieve info about what engine is currently in use</li>
</ul>
<h3> Browser Support</h3>
jsper has been unit tested in IE6,7,8/Firefox 2,3,4/Chrome/Safari

<h3> Getting started and Notes</h3>
This is the entirety of the setup process:
<pre class="notranslate">
&lt;script type="text/javascript" src="/path/to/jsper.js"&gt;&lt;/script&gt;
</pre>
<strong>Note: if you are using with jquery and want to access through jquery, replace jsper.<em>method</em> with $.jsper.<em>method</em> (or jQuery.jsper.<em>method</em> if you prefer)</strong>

<h2 class="warn">
	<span class="head">################ HOLA ##################</span>
	<br />If you are wanting to experiment with jsper, open firebug or the console and follow along with the examples; jsper is included in this page. :) 
	<span class="head">#######################################</span>
</h2>
	
<h2> Getting and Setting</h2>

<h3>Setters</h3>
<pre class="notranslate">

jsper.set('foo', {bar:'baz',boz:{bez:'biz'}});

jsper.set('arr', ['a', 'b', 'c', 'd']);

jsper.set('message', 'hello world!');

//setting multiple items at the same time
var obj = {
	line1:"This makes things",
	line2:"a bit easier"
};

jsper.set( obj );
</pre>

<h3>Getters</h3>
<pre class="notranslate">

var an_obj = jsper.get('foo');

// will log an object
console.log(an_obj);

var obj_stored = jsper.raw_value('foo');

// log string representation of object
console.log(obj_stored);

// everything in the current storage engine
var all = jsper.all();

console.log(all);

// retrieve two keys
var two_keys = jsper.get(['key1', 'key2']);

var link = "&lt;a href='http://www.badsite.com'&gt;Bad link&lt;/a&gt;";
jsper.set('link', link);

// pass a callback to the get method
var stripped = jsper.get('link', function(data){
    return data.replace(/<.*?>/g, '');
});

console.log(stripped);

</pre>
<h3> Iterating</h3>
<pre class="notranslate">

var scores = [0, 5, 10, 15, 20];

jsper.set('scores', scores);

var total = 0;

jsper.each('scores', function(score){
    total += score;
});

console.log(total);

</pre>

<h3> Overloaded Methods</h3>
<pre class="notranslate">
var multiple_keys = {
   first:['a', 'b', 'c'],
   second:['d','e','f']
};

//set multiple keys at the same time
jsper.set(multiple_keys);

console.log(jsper.get('first'));//returns: array [a, b, c]

var first_and_second = jsper.get(['first','second']);
// or
jsper.each(['first', 'second'], function(data, index){
   console.log(" %s", data);//output: a b c d e f
});
</pre>

<h3>Engines</h3>
<pre class="notranslate">

// retrieve current storage engine
console.log(jsper.storage_engine);

// switch engines and set a value
jsper.force_engine('sessionStorage');
jsper.set('logged_in', true);
jsper.set('username', 'john.smith');

console.log('username: %s from storage: %s', jsper.get('username'), jsper.storage_engine);

// or the more succinct
var output = jsper.force_engine('cookie').set(
	{logged_in:true, username:'john.smith'}
).get(['logged_in', 'username']);

console.log('username: %s from storage: %s', output[1], jsper.storage_engine);
</pre>
<h3>Removing Items</h3>
<pre class="notranslate">

jsper.set('my_array', ['a','b','c','e','d']);
jsper.set('my_object', {a:'foo', b:{c:'bar', d:'baz'}});

//remove the third element from the array
jsper.remove_item('my_array', 3);

//remove the b key from my_object
jsper.remove_item('my_object', 'b');

console.log(jsper.get('my_array'));//a b c d

// view all items stored in current engine
console.log(jsper.all());

// remove the entire key
jsper.remove('my_array');

//remove all items stored in current engine
jsper.clear();

console.log(jsper.all());
</pre>
<h2>Install</h2>
<p>
Download the jsper script from the links below and include it in your page like so:
<pre class="notranslate">
	&lt;script type="text/javascript" src="/path/to/jsper.js"&gt;&lt;/script&gt;
</pre>
</p>
<h2>License</h2>
<p>Licensed under <a href="license.txt">GNU Lesser Public License</a></p>
<h2>Authors</h2>
<p>
<strong>rob.mcvey contact me @ jsperjs(at)gmail dot com</strong><br /><br />
Portions of the cookie storage engine and the entirety of JSON parsing are respectively from:</p>
<ul><li> The Wojo Group <a href="https://github.com/thewojogroup">The Wojo Group@github</a></li><li> and Douglas Crockford's JSON2 class 
</li></ul>
<h2>Dependencies</h2>
<p>jsper has no dependencies on other libraries as it is written in PAJâ„¢ (<em><a href="http://alternateidea.com/blog/articles/2007/7/18/javascript-scope-and-binding" target="_blank">read more about PAJ</a></em>); if it is loaded after jquery, it will assign itself to the jquery object through <em>jQuery.jsper</em>

    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/rmcvey/jsper/zipball/master">zip</a> or
      <a href="http://github.com/rmcvey/jsper/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre class="notranslate prettyprint">$ git clone git://github.com/rmcvey/jsper</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/rmcvey/jsper">rmcvey/jsper</a>
    </div>

  </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1505708-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
