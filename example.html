<html>
<head>
	<title>jsdb</title>
	<script type="text/javascript" src="/jsdb.js"></script>
	<script type="text/javascript">
		/**
		*  NOTE: db object is initialized when the script is included
		*/
		window.onload = function()
		{
			var body = document.getElementsByTagName('body');
			if(console){
				body[0].innerHTML = "See how cool all of that stuff below is?";
			}
			
			if(db.supported())
			{
				//initialize our test data
				var array 	= ['one', 'two', 'three'];
				var object 	= {a:"foo", b:{c:"bar",d:"baz"}};
				var str 	= "hello world!";
				
				//output original values
				console.log(" -- Original Data:");
				console.log(array);
				console.log(object);
				console.log(str);
		
				/**
				*	db.set() method
				*/
				db.set("array", array);
				db.set("object", object);
				db.set("string", str);
				
				// examine stored values
				console.log(" -- Data Representations in Storage");
				console.log("Array %s",  db.raw_value("array"));
				console.log("Object %s", db.raw_value("object"));
				console.log("String %s", db.raw_value("string"));
		
				/**
				*	db.get() method
				*/
				var array_out 	= db.get("array");
				var object_out 	= db.get("object");
				var string_out	= db.get("string");
				
				// examine retreived data
				console.log(" -- Retreived Data");
				console.log(array);
				console.log(object);
				console.log(str);
		
				/**
				*	db.remove_item() method
				*/
				db.remove_item("array", 2);
				db.remove_item("object", "a");
				
				// examine updated object/array
				console.log(" -- Removed an array item and an object attribute");
				console.log(db.get('array'));
				console.log(db.get("object"));
			}
		}
	</script>
</head>
<body>
	Check the browser's console to see what's happening.
</body>
</html>